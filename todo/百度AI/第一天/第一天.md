
## 作业说明

作业1:飞桨本地安装

提交飞桨本地安装成功的截图，如下图所示，有安装问题可以随时在群里提问，可参考飞桨官网：https://www.paddlepaddle.org.cn/documentation/docs/zh/install/index_cn.html

 

作业2：新冠疫情可视化

请根据课上所学内容，爬取3月31日当天丁香园公开的统计数据，根据累计确诊数，使用pyecharts绘制疫情分布图，如下图所示，提交截图。



## 作业1-飞桨安装

### ubuntu环境

参考官方文档：https://www.paddlepaddle.org.cn/documentation/docs/zh/install/install_Ubuntu.html

- 环境要求

    - Ubuntu 版本 (64 bit)
        - Ubuntu 14.04 (GPU 版本支持 CUDA 10.0/10.1)
        - Ubuntu 16.04 (GPU 版本支持 CUDA 9.0/9.1/9.2/10.0/10.1)
        - Ubuntu 18.04 (GPU 版本支持 CUDA 10.0/10.1)
    - Python 版本 2.7.15+/3.5.1+/3.6/3.7 (64 bit)
    - pip或pip3 版本 9.0.1+ (64 bit)


- 安装

推荐使用pip进行安装(cpu版本)

```
aistudio@jupyter-266238-356283:~$ python3 -m pip install paddlepaddle -i https://mirror.baidu.com/pypi/simple
Looking in indexes: https://mirror.baidu.com/pypi/simple
Collecting paddlepaddle
  Downloading https://mirror.baidu.com/pypi/packages/a4/57/9f3069ab624752d2afbf255605af0244633245629c6ef717b117989bfa9d/paddlepaddle-1.7.1-cp37-cp37m-manylinux1_x86_64.whl (102.9MB)
     |████████████████████████████████| 102.9MB 274kB/s 
Requirement already satisfied: objgraph in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlepaddle) (3.4.1)
Requirement already satisfied: protobuf>=3.1.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlepaddle) (3.10.0)
Requirement already satisfied: funcsigs in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlepaddle) (1.0.2)
Requirement already satisfied: decorator in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlepaddle) (4.4.0)
Requirement already satisfied: scipy<=1.3.1; python_version >= "3.5" in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlepaddle) (1.3.0)
Requirement already satisfied: prettytable in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlepaddle) (0.7.2)
Requirement already satisfied: matplotlib; python_version >= "3.6" in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlepaddle) (2.2.3)
Requirement already satisfied: numpy>=1.12; python_version >= "3.5" in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlepaddle) (1.16.4)
Requirement already satisfied: graphviz in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlepaddle) (0.13)
Requirement already satisfied: requests>=2.20.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlepaddle) (2.22.0)
Requirement already satisfied: six in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlepaddle) (1.12.0)
Requirement already satisfied: pyyaml in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlepaddle) (5.1.2)
Requirement already satisfied: Pillow in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlepaddle) (6.2.0)
Requirement already satisfied: rarfile in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlepaddle) (3.1)
Requirement already satisfied: opencv-python in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlepaddle) (4.1.1.26)
Requirement already satisfied: nltk; python_version >= "3.5" in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlepaddle) (3.4.5)
Requirement already satisfied: setuptools in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from protobuf>=3.1.0->paddlepaddle) (41.4.0)
Requirement already satisfied: pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from matplotlib; python_version >= "3.6"->paddlepaddle) (2.4.2)
Requirement already satisfied: cycler>=0.10 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from matplotlib; python_version >= "3.6"->paddlepaddle) (0.10.0)
Requirement already satisfied: kiwisolver>=1.0.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from matplotlib; python_version >= "3.6"->paddlepaddle) (1.1.0)
Requirement already satisfied: pytz in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from matplotlib; python_version >= "3.6"->paddlepaddle) (2019.3)
Requirement already satisfied: python-dateutil>=2.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from matplotlib; python_version >= "3.6"->paddlepaddle) (2.8.0)
Requirement already satisfied: chardet<3.1.0,>=3.0.2 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle) (3.0.4)
Requirement already satisfied: certifi>=2017.4.17 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle) (2019.9.11)
Requirement already satisfied: idna<2.9,>=2.5 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle) (2.8)
Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle) (1.25.6)
Installing collected packages: paddlepaddle
Successfully installed paddlepaddle-1.7.1
```

- 验证安装

```
#进入python解析器

>>> import imp
>>> import paddle.fluid as fluid
>>> fluid.install_check.run_check()
Running Verify Paddle Program ... 
Your Paddle works well on SINGLE GPU or CPU.
I0331 14:46:33.588564   191 parallel_executor.cc:440] The Program will be executed on CPU using ParallelExecutor, 2 cards are used, so 2 programs are executed in parallel.
W0331 14:46:33.589643   191 fuse_all_reduce_op_pass.cc:74] Find all_reduce operators: 2. To make the speed faster, some all_reduce ops are fused during training, after fusion, the number of all_reduce ops is 1.
I0331 14:46:33.589766   191 build_strategy.cc:365] SeqOnlyAllReduceOps:0, num_trainers:1
I0331 14:46:33.590456   191 parallel_executor.cc:307] Inplace strategy is enabled, when build_strategy.enable_inplace = True
I0331 14:46:33.590909   191 parallel_executor.cc:375] Garbage collection strategy is enabled, when FLAGS_eager_delete_tensor_gb = 0
Your Paddle works well on MUTIPLE GPU or CPU.
Your Paddle is installed successfully! Let's start deep Learning with Paddle now

```

- 卸载


CPU版本的PaddlePaddle: 
```
python -m pip uninstall paddlepaddle 

python3 -m pip uninstall paddlepaddle
```

GPU版本的PaddlePaddle: 
```
python -m pip uninstall paddlepaddle-gpu 

python3 -m pip uninstall paddlepaddle-gpu
```

## 新冠疫情可视化

### 抓取新冠疫情数据

直接复制作业中的爬取疫情数据脚本代码：

保存到 ./dxycrawl.py

```
aistudio@jupyter-266238-356283:~$ python dxycrawl.py 
200
aistudio@jupyter-266238-356283:~$ ls
356283.ipynb  data  dxycrawl.py  work
aistudio@jupyter-266238-356283:~$ cd data/
aistudio@jupyter-266238-356283:~/data$ ls
20200331.json  data24815  statistics_data.json
```

### 安装pyecharts

注意python3与pyecharts的版本一致，且pyecharts新版本的使用方式与旧版的pyecahrts版本不一样。

```
pip install pyecharts
```

### 可视化实现

- 全国累计确诊图

    ./chinaxgyq.py

- 湖北累计确诊图

    ./hubeixgyq.py

- 新增趋势折线图

    ./addxgyq.py 




## 其他

### notebook的使用

https://aistudio.baidu.com/aistudio/projectDetail/296022


